"use strict";function t(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var moment=t(require("moment")),Pikaday=t(require("pikaday"));function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var i="object"==typeof n&&n&&n.Object===Object&&n,r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")(),u=o.Symbol,s=Object.prototype,a=s.hasOwnProperty,f=s.toString,c=u?u.toStringTag:void 0;var l=function(t){var e=a.call(t,c),n=t[c];try{t[c]=void 0;var i=!0}catch(t){}var r=f.call(t);return i&&(e?t[c]=n:delete t[c]),r},d=Object.prototype.toString;var p=function(t){return d.call(t)},h=u?u.toStringTag:void 0;var v=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":h&&h in Object(t)?l(t):p(t)};var y=function(t){return null!=t&&"object"==typeof t};var b=function(t){return y(t)&&"[object Date]"==v(t)};var m=function(t){return function(e){return t(e)}},g=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,o=r&&r.exports===n&&i.process,u=function(){try{var t=r&&r.require&&r.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=u})),O=g&&g.isDate,w=O?m(O):b,j=Array.isArray;var x=function(t){return"string"==typeof t||!j(t)&&y(t)&&"[object String]"==v(t)};var S={name:"vue-pikaday",inheritAttrs:!1,props:{value:{validator:function(t){var n=[void 0,null];if(function(t){return t instanceof Event||t&&t.constructor&&"Event"===t.constructor.name}(t))return!0;if(w(t))return!0;if(x(t)&&moment(t).isValid())return!0;for(var i=0,r=n;i<r.length;i++){var o=r[i];if(t===o||e(t)===o)return!0}return!1},required:!0},options:{required:!1,default:function(){return{}}},autoDefault:{type:Boolean,required:!1,default:!1}},data:function(){return{visible:!1,elAttrs:{type:"text"},defaultOptions:{format:"D MMM YYYY"},mergedOptions:{}}},computed:{elementAttributes:function(){return Object.assign({},this.$attrs,this.elAttrs)}},render:function(t){return t("input",{attrs:this.elementAttributes,on:this.$listeners,value:this.inputValue(this.value)},this.$slots.default)},beforeMount:function(){this.mergedOptions=Object.assign({},this.defaultOptions,this.options)},mounted:function(){var t=this;this.create(),this.$watch("value",(function(e){w(e)||(e=null),t.visible||t.pikaday.setDate(e,!0),t.change(e)}))},beforeDestroy:function(){this.destroy()},methods:{create:function(){var t=this;this.mergedOptions.field=this.$el,this.bindListener("onSelect",(function(){return t.onSelect()})),this.bindListener("onOpen",(function(){return t.onOpen()})),this.bindListener("onClose",(function(){return t.onClose()})),this.pikaday=new Pikaday(this.mergedOptions);var e=this.value;!this.value&&this.autoDefault&&(e=moment().toDate(),this.change(e)),this.pikaday.setDate(e,!0),!1===this.mergedOptions.bound?this.hide():this.visible?this.show():this.hide()},destroy:function(){this.pikaday.destroy()},change:function(t){this.$emit("input",t),this.$emit("input-value",this.inputValue(t))},inputValue:function(t){if(!w(t))return null;var e=moment(t);return e.isValid()?e.format(this.mergedOptions.format):null},onSelect:function(){this.change(this.pikaday.getDate())},onOpen:function(){this.visible=!0},onClose:function(){w(this.value)||(this.pikaday.setDate(null,!0),this.change(null)),this.visible=!1},show:function(){this.pikaday.show()},hide:function(){this.pikaday.hide()},bindListener:function(t,e){var n=this;if(this.mergedOptions[t]){var i=this.mergedOptions[t];this.mergedOptions[t]=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];i(r),e.apply(n)}}else this.mergedOptions[t]=e}}};var T=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},D=function(){return o.Date.now()};var $=function(t){return"symbol"==typeof t||y(t)&&"[object Symbol]"==v(t)},k=/^\s+|\s+$/g,A=/^[-+]0x[0-9a-f]+$/i,q=/^0b[01]+$/i,V=/^0o[0-7]+$/i,M=parseInt;var N=function(t){if("number"==typeof t)return t;if($(t))return NaN;if(T(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=T(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(k,"");var n=q.test(t);return n||V.test(t)?M(t.slice(2),n?2:8):A.test(t)?NaN:+t},C=Math.max,E=Math.min;var L=function(t,e,n){var i,r,o,u,s,a,f=0,c=!1,l=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=i,o=r;return i=r=void 0,f=e,u=t.apply(o,n)}function h(t){return f=t,s=setTimeout(y,e),c?p(t):u}function v(t){var n=t-a;return void 0===a||n>=e||n<0||l&&t-f>=o}function y(){var t=D();if(v(t))return b(t);s=setTimeout(y,function(t){var n=e-(t-a);return l?E(n,o-(t-f)):n}(t))}function b(t){return s=void 0,d&&i?p(t):(i=r=void 0,u)}function m(){var t=D(),n=v(t);if(i=arguments,r=this,a=t,n){if(void 0===s)return h(a);if(l)return clearTimeout(s),s=setTimeout(y,e),p(a)}return void 0===s&&(s=setTimeout(y,e)),u}return e=N(e)||0,T(n)&&(c=!!n.leading,o=(l="maxWait"in n)?C(N(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d),m.cancel=function(){void 0!==s&&clearTimeout(s),f=0,i=a=r=s=void 0},m.flush=function(){return void 0===s?u:b(D())},m};function Y(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e[n]=t,i=i||e,t?i.show():i.hide()}var I={inserted:function(t,e,n){var i=n.componentInstance;i.onOpen=function(){return Y(!0,n.context,e.expression,i)},i.onClose=L((function(){return Y(!1,n.context,e.expression,i)}),100)},update:function(t,e,n){Y(e.value,n.componentInstance,e.expression)}},W={install:function(t){t.component(S.name,S),t.directive("p-visible",I)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(W),module.exports=W;
//# sourceMappingURL=vue-pikaday.common.js.map
