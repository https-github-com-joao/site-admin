!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("moment"),require("pikaday")):"function"==typeof define&&define.amd?define(["moment","pikaday"],e):(t=t||self).vuePikaday=e(t.moment,t.Pikaday)}(this,(function(moment,Pikaday){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}moment=moment&&Object.prototype.hasOwnProperty.call(moment,"default")?moment.default:moment,Pikaday=Pikaday&&Object.prototype.hasOwnProperty.call(Pikaday,"default")?Pikaday.default:Pikaday;var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var n="object"==typeof e&&e&&e.Object===Object&&e,i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")(),r=o.Symbol,u=Object.prototype,a=u.hasOwnProperty,s=u.toString,f=r?r.toStringTag:void 0;var c=function(t){var e=a.call(t,f),n=t[f];try{t[f]=void 0;var i=!0}catch(t){}var o=s.call(t);return i&&(e?t[f]=n:delete t[f]),o},l=Object.prototype.toString;var d=function(t){return l.call(t)},p=r?r.toStringTag:void 0;var h=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":p&&p in Object(t)?c(t):d(t)};var v=function(t){return null!=t&&"object"==typeof t};var y=function(t){return v(t)&&"[object Date]"==h(t)};var m=function(t){return function(e){return t(e)}},b=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){var i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,r=o&&o.exports===i&&n.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||r&&r.binding&&r.binding("util")}catch(t){}}();t.exports=u})),g=b&&b.isDate,O=g?m(g):y,w=Array.isArray;var j=function(t){return"string"==typeof t||!w(t)&&v(t)&&"[object String]"==h(t)};var x={name:"vue-pikaday",inheritAttrs:!1,props:{value:{validator:function(e){var n=[void 0,null];if(function(t){return t instanceof Event||t&&t.constructor&&"Event"===t.constructor.name}(e))return!0;if(O(e))return!0;if(j(e)&&moment(e).isValid())return!0;for(var i=0,o=n;i<o.length;i++){var r=o[i];if(e===r||t(e)===r)return!0}return!1},required:!0},options:{required:!1,default:function(){return{}}},autoDefault:{type:Boolean,required:!1,default:!1}},data:function(){return{visible:!1,elAttrs:{type:"text"},defaultOptions:{format:"D MMM YYYY"},mergedOptions:{}}},computed:{elementAttributes:function(){return Object.assign({},this.$attrs,this.elAttrs)}},render:function(t){return t("input",{attrs:this.elementAttributes,on:this.$listeners,value:this.inputValue(this.value)},this.$slots.default)},beforeMount:function(){this.mergedOptions=Object.assign({},this.defaultOptions,this.options)},mounted:function(){var t=this;this.create(),this.$watch("value",(function(e){O(e)||(e=null),t.visible||t.pikaday.setDate(e,!0),t.change(e)}))},beforeDestroy:function(){this.destroy()},methods:{create:function(){var t=this;this.mergedOptions.field=this.$el,this.bindListener("onSelect",(function(){return t.onSelect()})),this.bindListener("onOpen",(function(){return t.onOpen()})),this.bindListener("onClose",(function(){return t.onClose()})),this.pikaday=new Pikaday(this.mergedOptions);var e=this.value;!this.value&&this.autoDefault&&(e=moment().toDate(),this.change(e)),this.pikaday.setDate(e,!0),!1===this.mergedOptions.bound?this.hide():this.visible?this.show():this.hide()},destroy:function(){this.pikaday.destroy()},change:function(t){this.$emit("input",t),this.$emit("input-value",this.inputValue(t))},inputValue:function(t){if(!O(t))return null;var e=moment(t);return e.isValid()?e.format(this.mergedOptions.format):null},onSelect:function(){this.change(this.pikaday.getDate())},onOpen:function(){this.visible=!0},onClose:function(){O(this.value)||(this.pikaday.setDate(null,!0),this.change(null)),this.visible=!1},show:function(){this.pikaday.show()},hide:function(){this.pikaday.hide()},bindListener:function(t,e){var n=this;if(this.mergedOptions[t]){var i=this.mergedOptions[t];this.mergedOptions[t]=function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];i(o),e.apply(n)}}else this.mergedOptions[t]=e}}};var S=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},k=function(){return o.Date.now()};var T=function(t){return"symbol"==typeof t||v(t)&&"[object Symbol]"==h(t)},D=/^\s+|\s+$/g,$=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,q=/^0o[0-7]+$/i,V=parseInt;var M=function(t){if("number"==typeof t)return t;if(T(t))return NaN;if(S(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=S(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(D,"");var n=A.test(t);return n||q.test(t)?V(t.slice(2),n?2:8):$.test(t)?NaN:+t},N=Math.max,P=Math.min;var C=function(t,e,n){var i,o,r,u,a,s,f=0,c=!1,l=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=i,r=o;return i=o=void 0,f=e,u=t.apply(r,n)}function h(t){return f=t,a=setTimeout(y,e),c?p(t):u}function v(t){var n=t-s;return void 0===s||n>=e||n<0||l&&t-f>=r}function y(){var t=k();if(v(t))return m(t);a=setTimeout(y,function(t){var n=e-(t-s);return l?P(n,r-(t-f)):n}(t))}function m(t){return a=void 0,d&&i?p(t):(i=o=void 0,u)}function b(){var t=k(),n=v(t);if(i=arguments,o=this,s=t,n){if(void 0===a)return h(s);if(l)return clearTimeout(a),a=setTimeout(y,e),p(s)}return void 0===a&&(a=setTimeout(y,e)),u}return e=M(e)||0,S(n)&&(c=!!n.leading,r=(l="maxWait"in n)?N(M(n.maxWait)||0,e):r,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==a&&clearTimeout(a),f=0,i=s=o=a=void 0},b.flush=function(){return void 0===a?u:m(k())},b};function E(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e[n]=t,i=i||e,t?i.show():i.hide()}var L={inserted:function(t,e,n){var i=n.componentInstance;i.onOpen=function(){return E(!0,n.context,e.expression,i)},i.onClose=C((function(){return E(!1,n.context,e.expression,i)}),100)},update:function(t,e,n){E(e.value,n.componentInstance,e.expression)}},Y={install:function(t){t.component(x.name,x),t.directive("p-visible",L)}};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(Y),Y}));
//# sourceMappingURL=vue-pikaday.js.map
