import moment from"moment";import Pikaday from"pikaday";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var n="object"==typeof e&&e&&e.Object===Object&&e,i="object"==typeof self&&self&&self.Object===Object&&self,r=n||i||Function("return this")(),o=r.Symbol,u=Object.prototype,s=u.hasOwnProperty,a=u.toString,f=o?o.toStringTag:void 0;var c=function(t){var e=s.call(t,f),n=t[f];try{t[f]=void 0;var i=!0}catch(t){}var r=a.call(t);return i&&(e?t[f]=n:delete t[f]),r},l=Object.prototype.toString;var p=function(t){return l.call(t)},d=o?o.toStringTag:void 0;var h=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":d&&d in Object(t)?c(t):p(t)};var v=function(t){return null!=t&&"object"==typeof t};var y=function(t){return v(t)&&"[object Date]"==h(t)};var m=function(t){return function(e){return t(e)}},b=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){var i=e&&!e.nodeType&&e,r=i&&t&&!t.nodeType&&t,o=r&&r.exports===i&&n.process,u=function(){try{var t=r&&r.require&&r.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=u})),g=b&&b.isDate,O=g?m(g):y,w=Array.isArray;var j=function(t){return"string"==typeof t||!w(t)&&v(t)&&"[object String]"==h(t)};var x={name:"vue-pikaday",inheritAttrs:!1,props:{value:{validator:function(e){var n=[void 0,null];if(function(t){return t instanceof Event||t&&t.constructor&&"Event"===t.constructor.name}(e))return!0;if(O(e))return!0;if(j(e)&&moment(e).isValid())return!0;for(var i=0,r=n;i<r.length;i++){var o=r[i];if(e===o||t(e)===o)return!0}return!1},required:!0},options:{required:!1,default:function(){return{}}},autoDefault:{type:Boolean,required:!1,default:!1}},data:function(){return{visible:!1,elAttrs:{type:"text"},defaultOptions:{format:"D MMM YYYY"},mergedOptions:{}}},computed:{elementAttributes:function(){return Object.assign({},this.$attrs,this.elAttrs)}},render:function(t){return t("input",{attrs:this.elementAttributes,on:this.$listeners,value:this.inputValue(this.value)},this.$slots.default)},beforeMount:function(){this.mergedOptions=Object.assign({},this.defaultOptions,this.options)},mounted:function(){var t=this;this.create(),this.$watch("value",(function(e){O(e)||(e=null),t.visible||t.pikaday.setDate(e,!0),t.change(e)}))},beforeDestroy:function(){this.destroy()},methods:{create:function(){var t=this;this.mergedOptions.field=this.$el,this.bindListener("onSelect",(function(){return t.onSelect()})),this.bindListener("onOpen",(function(){return t.onOpen()})),this.bindListener("onClose",(function(){return t.onClose()})),this.pikaday=new Pikaday(this.mergedOptions);var e=this.value;!this.value&&this.autoDefault&&(e=moment().toDate(),this.change(e)),this.pikaday.setDate(e,!0),!1===this.mergedOptions.bound?this.hide():this.visible?this.show():this.hide()},destroy:function(){this.pikaday.destroy()},change:function(t){this.$emit("input",t),this.$emit("input-value",this.inputValue(t))},inputValue:function(t){if(!O(t))return null;var e=moment(t);return e.isValid()?e.format(this.mergedOptions.format):null},onSelect:function(){this.change(this.pikaday.getDate())},onOpen:function(){this.visible=!0},onClose:function(){O(this.value)||(this.pikaday.setDate(null,!0),this.change(null)),this.visible=!1},show:function(){this.pikaday.show()},hide:function(){this.pikaday.hide()},bindListener:function(t,e){var n=this;if(this.mergedOptions[t]){var i=this.mergedOptions[t];this.mergedOptions[t]=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];i(r),e.apply(n)}}else this.mergedOptions[t]=e}}};var S=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},T=function(){return r.Date.now()};var D=function(t){return"symbol"==typeof t||v(t)&&"[object Symbol]"==h(t)},$=/^\s+|\s+$/g,k=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,V=/^0o[0-7]+$/i,M=parseInt;var q=function(t){if("number"==typeof t)return t;if(D(t))return NaN;if(S(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=S(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace($,"");var n=A.test(t);return n||V.test(t)?M(t.slice(2),n?2:8):k.test(t)?NaN:+t},N=Math.max,C=Math.min;var E=function(t,e,n){var i,r,o,u,s,a,f=0,c=!1,l=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=i,o=r;return i=r=void 0,f=e,u=t.apply(o,n)}function h(t){return f=t,s=setTimeout(y,e),c?d(t):u}function v(t){var n=t-a;return void 0===a||n>=e||n<0||l&&t-f>=o}function y(){var t=T();if(v(t))return m(t);s=setTimeout(y,function(t){var n=e-(t-a);return l?C(n,o-(t-f)):n}(t))}function m(t){return s=void 0,p&&i?d(t):(i=r=void 0,u)}function b(){var t=T(),n=v(t);if(i=arguments,r=this,a=t,n){if(void 0===s)return h(a);if(l)return clearTimeout(s),s=setTimeout(y,e),d(a)}return void 0===s&&(s=setTimeout(y,e)),u}return e=q(e)||0,S(n)&&(c=!!n.leading,o=(l="maxWait"in n)?N(q(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==s&&clearTimeout(s),f=0,i=a=r=s=void 0},b.flush=function(){return void 0===s?u:m(T())},b};function L(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e[n]=t,i=i||e,t?i.show():i.hide()}var Y={inserted:function(t,e,n){var i=n.componentInstance;i.onOpen=function(){return L(!0,n.context,e.expression,i)},i.onClose=E((function(){return L(!1,n.context,e.expression,i)}),100)},update:function(t,e,n){L(e.value,n.componentInstance,e.expression)}},I={install:function(t){t.component(x.name,x),t.directive("p-visible",Y)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(I);export default I;
//# sourceMappingURL=vue-pikaday.esm.js.map
